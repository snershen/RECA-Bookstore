import{t as g}from"./apis-87e1c737.js";import{_ as w,X as x,Y as y,Z as v,u as V,x as D,r as m,o as u,c as _,a as e,F as k,d as C,t as i,e as d,f as F,b as E,v as P,w as p,g as h,p as M,h as N}from"./index-2a879780.js";import{t as I}from"./toastMixin-35ed0e94.js";import{c as b}from"./cart-0a3aad79.js";import"./sweetalert2.all-5ea4e7a2.js";const S={data(){return{couponCode:"",orderData:{data:{user:{}}}}},components:{Form:x,Field:y,ErrorMessage:v},mixins:[I],computed:{...V(b,["saveMoney","cartList"])},methods:{...D(b,["getCart"]),directCartPage(){this.$router.push({name:"cart"})},sendOrder(){g(this.orderData).then(a=>{const t=a.data.orderId;this.$router.push(`/user/order/${t}`)})},async submitForm(){(await this.$refs.form.validate()).valid?this.sendOrder():this.showToast({icon:"info",title:"請填入正確的訂購資料"})}},created(){this.getCart()}},o=a=>(M("data-v-c51709e9"),a=a(),N(),a),q={class:"container py-5"},A={class:"row"},U={class:"offset-1 col-10"},L=o(()=>e("h1",{class:"fw-bold mb-4"},"訂單明細",-1)),B={class:"list-unstyled w-100 text-center mb-5"},O=o(()=>e("tr",{class:"py-3"},[e("td",{width:"60%",class:"text-start"},"品名"),e("td",{width:"20%"},"數量"),e("td",{width:"20%",class:"text-end"},"小計")],-1)),T={class:"border-bottom"},j={class:"text-start"},X={class:"text-end"},Y={class:"fw-bold"},Z=o(()=>e("td",{colspan:"1",class:"text-start"},"總計",-1)),z={colspan:"2",class:"text-end"},G=o(()=>e("h2",{class:"fw-bold mb-3"},"訂購資訊",-1)),H={class:"row"},J={class:"col-lg-3 mb-4"},K=o(()=>e("label",{for:"orderName",class:"form-label"},"姓名",-1)),Q={class:"col-lg-3 mb-3"},R=o(()=>e("label",{for:"orderPhone",class:"form-label"},"聯絡電話",-1)),W=o(()=>e("li",null,[e("div",{class:"w-100 d-none d-md-block"})],-1)),$={class:"col-lg-6 mb-4"},ee=o(()=>e("label",{for:"orderEmail",class:"form-label"},"Email",-1)),se=o(()=>e("li",null,[e("div",{class:"w-100 d-none d-md-block"})],-1)),te={class:"col-lg-6 mb-4"},oe=o(()=>e("label",{for:"orderAddress",class:"form-label"},"寄送地址",-1)),re=o(()=>e("li",null,[e("div",{class:"w-100 d-none d-md-block"})],-1)),ae={class:"col-lg-6"},de=o(()=>e("label",{for:"orderMessage",class:"form-label"},"備註",-1)),le={class:"row justify-content-between py-5"},ne={class:"col-lg-4 col-6"},ce=o(()=>e("span",{class:"btn-arrow btn-arrow-left me-2"},null,-1)),ie={class:"col-lg-4 col-6"},me=o(()=>e("span",{class:"btn-arrow btn-arrow-right ms-2"},null,-1));function ue(a,t,_e,pe,r,l){const n=m("Field"),c=m("ErrorMessage"),f=m("Form");return u(),_("div",q,[e("div",A,[e("div",U,[L,e("table",B,[O,(u(!0),_(k,null,C(a.cartList.carts,s=>(u(),_("tr",T,[e("td",j,i(s.product.title),1),e("td",null,i(s.qty),1),e("td",X,i(s.final_total),1)]))),256)),e("tr",Y,[Z,e("td",z,"$"+i(a.cartList.final_total),1)])]),e("section",null,[G,d(f,{ref:"form"},{default:F(()=>[e("ul",H,[e("li",J,[K,d(n,{type:"text",name:"orderName",class:"form-control rounded-0 border-dark",placeholder:"請輸入 姓名",id:"orderName",modelValue:r.orderData.data.user.name,"onUpdate:modelValue":t[0]||(t[0]=s=>r.orderData.data.user.name=s),rules:"required"},null,8,["modelValue"]),d(c,{name:"orderName",class:"text-danger fs-6"})]),e("li",Q,[R,d(n,{type:"tel",name:"orderPhone",class:"form-control rounded-0 border-dark",id:"orderPhone",placeholder:"請輸入 電話",modelValue:r.orderData.data.user.tel,"onUpdate:modelValue":t[1]||(t[1]=s=>r.orderData.data.user.tel=s),rules:"required|phone:10"},null,8,["modelValue"]),d(c,{name:"orderPhone",class:"text-danger fs-6"})]),W,e("li",$,[ee,d(n,{type:"email",class:"form-control rounded-0 border-dark",name:"orderEmail",id:"orderEmail",placeholder:"請輸入 Email",modelValue:r.orderData.data.user.email,"onUpdate:modelValue":t[2]||(t[2]=s=>r.orderData.data.user.email=s),rules:"required|email"},null,8,["modelValue"]),d(c,{name:"orderEmail",class:"text-danger fs-6"})]),se,e("li",te,[oe,d(n,{type:"text",class:"form-control rounded-0 border-dark",name:"orderAddress",id:"orderAddress",placeholder:"請寫入寄送地址",modelValue:r.orderData.data.user.address,"onUpdate:modelValue":t[3]||(t[3]=s=>r.orderData.data.user.address=s),rules:"required"},null,8,["modelValue"]),d(c,{name:"orderAddress",class:"text-danger fs-6"})]),re,e("li",ae,[de,E(e("textarea",{class:"form-control rounded-0 border-dark",type:"text",id:"orderMessage",placeholder:"訂單更多說明",rows:"5","onUpdate:modelValue":t[4]||(t[4]=s=>r.orderData.data.message=s)},null,512),[[P,r.orderData.data.message]])])]),e("div",le,[e("div",ne,[e("a",{href:"#",class:"btn btn-outline-secondary rounded-0 w-100 py-3 mb-3 mb-lg-0",onClick:t[5]||(t[5]=p((...s)=>l.directCartPage&&l.directCartPage(...s),["prevent"]))},[ce,h("上一步 ")])]),e("div",ie,[e("button",{type:"submit",class:"btn btn-secondary rounded-0 w-100 py-3",onClick:t[6]||(t[6]=p((...s)=>l.submitForm&&l.submitForm(...s),["prevent"]))},[h(" 送出訂單"),me])])])]),_:1},512)])])])])}const xe=w(S,[["render",ue],["__scopeId","data-v-c51709e9"]]);export{xe as default};

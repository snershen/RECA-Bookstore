import{b as w,c as $}from"./apis-a5ad6c64.js";import{t as k}from"./toastMixin-9250679d.js";import{_ as p,r as s,o as n,c as r,a as t,F as y,d as R,e as a,f as h,g as m,t as v,w as u,p as N,h as C}from"./index-640e9deb.js";import"./sweetalert2.all-1c7eb4a3.js";const I={data(){return{childrenRoute:[]}},mixins:[k],methods:{logout(){w().then(()=>{this.$router.push({name:"admin-login"}),this.showToast({title:"已登出",icon:"success"}),document.cookie=""}).catch(e=>{console.error(e)})}},created(){this.childrenRoute=this.$router.options.routes.find(e=>e.path==="/admin").children}},f=e=>(N("data-v-47220242"),e=e(),C(),e),L={class:"dashboard position-fixed start-0 top-0 vh-100 d-flex flex-column py-3 pt-4"},S=f(()=>t("a",{class:"navbar-brand fs-4 text-white d-flex align-items-center gap-2",href:"#"},[t("span",{class:"fs-4 fw-bold border-secondary border-4 ps-4"},"RECA書店")],-1)),V=f(()=>t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1)),B={class:"collapse navbar-collapse d-block flex-column justify-content-between w-100",id:"navbarNav"},D={class:"navbar-nav flex-column w-100"},T={class:"nav-item"};function j(e,c,b,g,i,d){const l=s("RouterLink");return n(),r("nav",L,[S,V,t("div",B,[t("ul",D,[(n(!0),r(y,null,R(i.childrenRoute,o=>(n(),r("li",T,[a(l,{class:"nav-link",to:{name:o.name},onClick:u(_=>e.currentRoute=o.meta.title,["prevent"])},{default:h(()=>[m(v(o.meta.title),1)]),_:2},1032,["to","onClick"])]))),256))]),t("a",{class:"nav-link text-start w-100 mt-5",href:"#",onClick:c[0]||(c[0]=u((...o)=>d.logout&&d.logout(...o),["prevent"]))},"登出")])])}const E=p(I,[["render",j],["__scopeId","data-v-47220242"]]);const F={data(){return{username:""}},components:{Navbar:E},created(){$().then(e=>{this.$router.push({name:"admin-products"}),this.username=sessionStorage.getItem("username"),e.data.success||this.$router.push({name:"admin-login"})}).catch(e=>{this.$router.push({name:"admin-login"}),console.error(e)})}},M={class:"d-flex bg-light min-height-100"},A={class:"view-area ms-auto"},H={class:"border-bottom py-3 bg-white"},q={class:"container d-flex align-items-center justify-content-between"},z={class:"d-flex align-items-center"},G={class:"container py-4"};function J(e,c,b,g,i,d){const l=s("Navbar"),o=s("font-awesome-icon"),_=s("RouterLink"),x=s("RouterView");return n(),r("div",M,[a(l,{class:"border-end"}),t("div",A,[t("div",H,[t("div",q,[t("div",z,[a(o,{icon:["fas","user"],class:"me-2"}),t("p",null,"Hi, "+v(i.username),1)]),a(_,{to:{name:"index"},target:"_blank"},{default:h(()=>[m("回到前台")]),_:1})])]),t("div",G,[a(x)])])])}const U=p(F,[["render",J],["__scopeId","data-v-55b0c16d"]]);export{U as default};

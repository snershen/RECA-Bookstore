import{$ as i}from"./index-2a879780.js";import{A as o,B as a,C as d}from"./apis-87e1c737.js";import{t as e}from"./timeFormat-77515bb4.js";const u=i("orderStore",{state:()=>({orderList:[],orderResult:[],order:{},searchStr:"",isLoading:!1,isEmptyResult:!1}),actions:{getOrders(){this.isEmptyResult=!1,this.isLoading=!0,o().then(t=>{this.isLoading=!1,this.orderList=t.data.orders,e(this.orderList,"create_at"),this.orderResult=[],this.orderList.forEach(r=>{r.total=Math.round(r.total)})})},getSingleOrder(t){this.isLoading=!0,a(t).then(r=>{this.isLoading=!1,console.log(r),this.order=r.data.order,console.log(this.order),e(this.order,"create_at"),this.order.total=Math.round(this.order.total),this.order.is_paid&&e(this.order,"paid_date")})},payMoney(t){d(t).then(r=>{this.getSingleOrder(),console.log(r)})},filterOrder(t){if(this.searchStr=t.trim(),this.searchStr===""){this.orderResult=this.orderList;return}const r=this.orderList.filter(s=>s.id===this.searchStr);this.orderResult=r,this.orderResult.length===0&&(this.isEmptyResult=!0)}}});export{u as o};

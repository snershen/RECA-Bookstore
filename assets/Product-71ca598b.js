import{S as L,a as V}from"./swiper-vue-8961c631.js";import{P as z}from"./ProductCard-7b0869f1.js";import{P as O}from"./ProductCategory-04ac04f1.js";import{s as C,u as b,_ as k,o as c,c as u,a as t,w as n,n as g,q as w,F as $,r,f as i,t as a,h,i as S,e as j,y as N,p as A,j as E}from"./index-ad467eb3.js";import{u as f}from"./product-3095098b.js";import{B as D}from"./Breadcrumb-2642eff6.js";import{c as M}from"./cart-22013adf.js";import"./sweetalert2.all-dc3da75e.js";import"./apis-9024af3e.js";const F={data(){return{content:""}},computed:{...C(f,["singleProduct","singleProductId"])},methods:{...b(f,["getSingleProduct"])},async created(){await this.getSingleProduct(this.$route.params.id),this.content=await this.singleProduct.content}},H={class:"nav border-bottom mb-3"},U={key:1,class:"nav-item"},q={key:2,class:"nav-item"},K=["innerHTML"];function G(e,s,d,v,o,p){return c(),u($,null,[t("ul",H,[e.singleProduct.content?(c(),u("li",{key:0,class:"nav-item",onClick:s[0]||(s[0]=n(m=>o.content=e.singleProduct.content,["prevent"]))},[t("a",{class:g(["nav-link fs-6 ps-2",{active:o.content===e.singleProduct.content}]),"aria-current":"page",href:"#"},"本書簡介",2)])):w("",!0),e.singleProduct.author_content?(c(),u("li",U,[t("a",{class:g(["nav-link fs-6",{active:o.content===e.singleProduct.author_content}]),href:"#",onClick:s[1]||(s[1]=n(m=>o.content=e.singleProduct.author_content,["prevent"]))},"作者介紹",2)])):w("",!0),e.singleProduct.description?(c(),u("li",q,[t("a",{class:g(["nav-link fs-6",{active:o.content===e.singleProduct.description}]),href:"#",onClick:s[2]||(s[2]=n(m=>o.content=e.singleProduct.description,["prevent"]))},"目錄",2)])):w("",!0)]),t("ul",null,[t("li",{innerHTML:o.content},null,8,K)])],64)}const J=k(F,[["render",G],["__scopeId","data-v-22fc34b1"]]);const Q={data(){return{isSolid:!1,relatedResult:[],relatedSwiper:{slidesPerView:1,spaceBetween:18,navigation:!0,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}}}}},props:["id"],components:{ProductCard:z,ProductTab:J,ProductCategory:O,Breadcrumb:D,Swiper:L,SwiperSlide:V},computed:{...C(f,["singleProduct","productList","alikeProduct","collectList","collectStorage","isSolid","selectedSingle","filterResult"]),icon(){return this.isSolid?["fas","heart"]:["far","heart"]}},methods:{...b(M,["getCart","addCart"]),...b(f,["getSingleProduct","getProducts","filterProduct","showAlikeProduct","getStorage","addOrRemoveCollect"]),initializeIsSolid(){const s=Array.from(this.collectStorage).filter(d=>d.id===this.singleProduct.id);s.length>0&&(this.isSolid=!!s[0].isSolid)},changeCollectIcon(){this.isSolid=!this.isSolid},handleCollectBtn(e){this.changeCollectIcon(),this.addOrRemoveCollect(e,this.isSolid)},initializeSwiper(e,s){const d=e,v={autoplay:!0,injectStylesUrls:["./custom_swiper.css"],...s};Object.assign(d,v),d.initialize()}},async created(){await this.getSingleProduct(this.id);const e=await this.filterProduct(this.singleProduct.category,"related");this.relatedResult=await e.filter(s=>s.id!==this.singleProduct.id),document.title=`${this.singleProduct.title}｜RECA BOOKSTORE`},mounted(){this.getStorage(),setTimeout(()=>{this.initializeIsSolid(),this.initializeSwiper(this.$refs.relatedSwiper,this.relatedSwiper)},500)},watch:{"singleProduct.title":"updateDocumentTitle"}},_=e=>(A("data-v-e7711f2f"),e=e(),E(),e),W={class:"container py-5"},X={class:"row"},Y={class:"col-md-3 d-none d-md-block mb-5"},Z={class:"col-md-9 col-12"},tt={class:"row"},et={class:"col-lg-4 mb-3 mb-lg-0 text-center"},st={class:"px-5 mx-5 px-lg-0 mx-lg-0"},ot=["src","alt"],it={class:"col-lg-8 d-flex flex-column justify-content-between"},nt={class:"mb-3 mb-lg-0"},lt={class:"font-sans fw-bold mb-3 mb-lg-5 fs-lg-2 fs-4"},rt={class:"mb-3 row"},ct=_(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"作者：",-1)),dt={class:"col-6 ms-5"},at={class:"mb-3 row"},ut=_(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"出版社：",-1)),pt={class:"col-6 ms-5"},gt={class:"mb-3 row"},_t=_(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"出版日期：",-1)),mt={class:"col-6 ms-5"},ht={class:"mb-2 align-items-center row"},ft=_(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"價格：",-1)),vt={class:"col-6 ms-5 d-flex align-items-center"},wt={class:"fs-3 fw-bold me-2"},bt={class:"fs-7 text-gray text-decoration-line-through"},Pt={class:"row gx-2 d-lg-flex d-none"},yt={class:"col-2 col-lg-2"},St={class:"fa-lg text-white"},Ct={class:"col-lg-5 col-5"},kt={class:"col-lg-5 col-5"},$t={class:"z-1000 row gx-2 position-fixed bottom-0 start-0 end-0 d-flex d-lg-none border-top py-2 px-2 bg-white shadow"},Bt={class:"col-2 col-lg-2 order-1"},It={class:"fa-lg text-white"},xt={class:"col-lg-5 col-5"},Rt={class:"col-lg-5 col-5"},Tt={class:"col-12 py-5"},Lt=_(()=>t("h3",{class:"font-sans fs-4 ms-2 mb-3 fw-bold"},"更多相關商品",-1)),Vt={class:"position-relative"};function zt(e,s,d,v,o,p){const m=r("Breadcrumb"),B=r("ProductCategory"),P=r("font-awesome-icon"),y=r("RouterLink"),I=r("ProductTab"),x=r("ProductCard"),R=r("swiper-slide"),T=r("swiper-container");return c(),u("div",W,[i(m,{class:"mb-4",breadConfig:{path:"products",subNav:"書籍類別",title:"書籍介紹"}}),t("div",X,[t("div",Y,[i(B)]),t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("img",{src:e.singleProduct.imageUrl,alt:e.singleProduct,class:"img-fluid"},null,8,ot)])]),t("div",it,[t("div",nt,[t("h3",lt,a(e.singleProduct.title),1),t("ul",null,[t("li",rt,[ct,t("div",dt,a(e.singleProduct.author),1)]),t("li",at,[ut,t("div",pt,a(e.singleProduct.publish),1)]),t("li",gt,[_t,t("div",mt,a(e.singleProduct.time),1)]),t("li",ht,[ft,t("div",vt,[t("p",wt,"$"+a(e.singleProduct.price),1),t("p",bt," $"+a(e.singleProduct.origin_price),1)])])])]),t("div",Pt,[t("div",yt,[t("a",{href:"#",class:g(["btn btn-gray w-100 py-3 rounded-2 border-0",{"bg-danger ":o.isSolid}]),onClick:s[0]||(s[0]=n(l=>p.handleCollectBtn(e.singleProduct),["prevent"]))},[t("span",St,[i(P,{icon:p.icon},null,8,["icon"])])],2)]),t("div",Ct,[t("a",{href:"#",class:"btn btn-gray text-white w-100 py-3 rounded-0 mb-lg-0 mb-0 rounded-2",onClick:s[1]||(s[1]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},"加入購物車")]),t("div",kt,[i(y,{to:{name:"cart"},class:"btn btn-primary text-white w-100 py-3 rounded-0 mb-lg-0 mb-2 rounded-2",onClick:s[2]||(s[2]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},{default:h(()=>[S("立即購買")]),_:1})])]),t("div",$t,[t("div",Bt,[t("a",{href:"#",class:g(["btn btn-gray w-100 py-2 rounded-2 border-0",{"bg-danger ":o.isSolid}]),onClick:s[3]||(s[3]=n(l=>p.handleCollectBtn(e.singleProduct),["prevent"]))},[t("span",It,[i(P,{icon:p.icon},null,8,["icon"])])],2)]),t("div",xt,[t("a",{href:"#",class:"btn btn-gray text-white w-100 py-2 rounded-0 mb-lg-0 mb-0 rounded-2",onClick:s[4]||(s[4]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},"加入購物車")]),t("div",Rt,[i(y,{to:{name:"cart"},class:"btn btn-primary text-white w-100 py-2 rounded-0 mb-lg-0 rounded-2",onClick:s[5]||(s[5]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},{default:h(()=>[S("立即購買")]),_:1})])])]),t("div",Tt,[i(I)]),t("div",null,[Lt,t("div",Vt,[i(T,{init:"false",ref:"relatedSwiper",class:"container px-5"},{default:h(()=>[(c(!0),u($,null,j(o.relatedResult,l=>(c(),N(R,{key:l.id,class:"h-auto d-flex justify-content-center my-3 px-2"},{default:h(()=>[i(x,{item:l},null,8,["item"])]),_:2},1024))),128))]),_:1},512)])])])])])])}const Ut=k(Q,[["render",zt],["__scopeId","data-v-e7711f2f"]]);export{Ut as default};

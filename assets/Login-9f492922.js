import{a as d}from"./apis-a0997e58.js";import{t as m}from"./toastMixin-a41d57fc.js";import{_ as u,o as p,c as _,a as s,w as f,b as c,v as l}from"./index-4c1dc597.js";import"./sweetalert2.all-a521b8db.js";const h="/RECA-Bookstore/assets/login-3b183ce2.png",b={data(){return{user:{username:"",password:""}}},mixins:[m],methods:{async signin(){try{const o=await d(this.user),e=o.data.message;if(o.data.success){const{token:i,expired:r}=o.data;sessionStorage.setItem("username",this.user.username),document.cookie=`bookstoreAPI=${i}; expires=${new Date(r)}`,this.$router.push({name:"admin-products"}),this.showToast({title:e,icon:"success"})}}catch(o){this.showToast({title:"請輸入正確的帳號和密碼",icon:"warning"}),console.log(o)}}}},g={class:"container-fluid px-0 bg-light vh-100"},w={class:"row mx-0 align-items-center h-100"},x=s("div",{class:"col-6 px-0 d-none d-lg-block"},[s("img",{src:h,alt:"login banner",class:"object-fit-cover vh-100 w-100"})],-1),v={class:"col-lg-6 d-flex justify-content-center align-items-center d-md-block"},y={class:"col-md-8"},k=s("h1",{class:"fs-3 mb-4 fw-bold font-sans text-secondary"},"RECA 書店後台管理",-1),B={class:"form-floating mb-3"},E=s("label",{for:"email"},"Email address",-1),j={class:"form-floating mb-3"},A=s("label",{for:"password"},"Password",-1),I={class:"text-end mt-4"},M=["disabled"];function S(o,e,i,r,t,a){return p(),_("div",g,[s("div",w,[x,s("div",v,[s("form",{class:"row justify-content-center w-100",onSubmit:e[2]||(e[2]=f((...n)=>a.signin&&a.signin(...n),["prevent"]))},[s("div",y,[k,s("div",B,[c(s("input",{type:"email",class:"form-control",id:"email",placeholder:"name@example.com","onUpdate:modelValue":e[0]||(e[0]=n=>t.user.username=n),required:""},null,512),[[l,t.user.username]]),E]),s("div",j,[c(s("input",{type:"password",class:"form-control",id:"password",placeholder:"name@example.com","onUpdate:modelValue":e[1]||(e[1]=n=>t.user.password=n),required:""},null,512),[[l,t.user.password]]),A]),s("div",I,[s("button",{type:"submit",class:"btn btn btn-secondary btn-block w-100 py-2",disabled:t.user.password===""||t.user.username===""}," 登入 ",8,M)])])],32)])])])}const D=u(b,[["render",S]]);export{D as default};

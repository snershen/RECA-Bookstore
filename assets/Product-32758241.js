import{S as L,a as V}from"./swiper-vue-0bf80f91.js";import{P as z}from"./ProductCard-878b2f6d.js";import{P as O}from"./ProductCategory-2a191450.js";import{s as C,u as w,_ as k,o as c,c as u,a as t,w as n,n as g,q as v,F as $,r,f as i,t as a,h,i as y,e as j,y as N,p as A,j as E}from"./index-c2379942.js";import{u as f}from"./product-1625754c.js";import{B as D}from"./Breadcrumb-722be3f0.js";import{c as M}from"./cart-f6162fd0.js";import"./sweetalert2.all-03d2c133.js";import"./apis-981045b7.js";const F={data(){return{content:""}},computed:{...C(f,["singleProduct","singleProductId"])},methods:{...w(f,["getSingleProduct"])},async created(){await this.getSingleProduct(this.$route.params.id),this.content=await this.singleProduct.content}},H={class:"nav border-bottom mb-3"},U={key:1,class:"nav-item"},q={key:2,class:"nav-item"},K=["innerHTML"];function G(e,s,d,b,o,p){return c(),u($,null,[t("ul",H,[e.singleProduct.content?(c(),u("li",{key:0,class:"nav-item",onClick:s[0]||(s[0]=n(_=>o.content=e.singleProduct.content,["prevent"]))},[t("a",{class:g(["nav-link fs-5",{active:o.content===e.singleProduct.content}]),"aria-current":"page",href:"#"},"本書簡介",2)])):v("",!0),e.singleProduct.author_content?(c(),u("li",U,[t("a",{class:g(["nav-link fs-5",{active:o.content===e.singleProduct.author_content}]),href:"#",onClick:s[1]||(s[1]=n(_=>o.content=e.singleProduct.author_content,["prevent"]))},"作者介紹",2)])):v("",!0),e.singleProduct.description?(c(),u("li",q,[t("a",{class:g(["nav-link fs-5",{active:o.content===e.singleProduct.description}]),href:"#",onClick:s[2]||(s[2]=n(_=>o.content=e.singleProduct.description,["prevent"]))},"目錄",2)])):v("",!0)]),t("ul",null,[t("li",{innerHTML:o.content},null,8,K)])],64)}const J=k(F,[["render",G],["__scopeId","data-v-f23b294b"]]);const Q={data(){return{isSolid:!1,relatedResult:[],relatedSwiper:{slidesPerView:1,spaceBetween:18,navigation:!0,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4}}}}},props:["id"],components:{ProductCard:z,ProductTab:J,ProductCategory:O,Breadcrumb:D,Swiper:L,SwiperSlide:V},computed:{...C(f,["singleProduct","productList","alikeProduct","collectList","collectStorage","isSolid","selectedSingle","filterResult"]),icon(){return this.isSolid?["fas","heart"]:["far","heart"]}},methods:{...w(M,["getCart","addCart"]),...w(f,["getSingleProduct","getProducts","filterProduct","showAlikeProduct","getStorage","addOrRemoveCollect"]),initializeIsSolid(){const s=Array.from(this.collectStorage).filter(d=>d.id===this.singleProduct.id);s.length>0&&(this.isSolid=!!s[0].isSolid)},changeCollectIcon(){this.isSolid=!this.isSolid},handleCollectBtn(e){this.changeCollectIcon(),this.addOrRemoveCollect(e,this.isSolid)},initializeSwiper(e,s){const d=e,b={autoplay:!0,injectStylesUrls:["./custom_swiper.css"],...s};Object.assign(d,b),d.initialize()}},async created(){await this.getSingleProduct(this.id);const e=await this.filterProduct(this.singleProduct.category,"related");this.relatedResult=await e.filter(s=>s.id!==this.singleProduct.id),document.title=`${this.singleProduct.title}｜RECA BOOKSTORE`},mounted(){this.getStorage(),setTimeout(()=>{this.initializeIsSolid(),this.initializeSwiper(this.$refs.relatedSwiper,this.relatedSwiper)},500)},watch:{"singleProduct.title":"updateDocumentTitle"}},m=e=>(A("data-v-a5dbb8e4"),e=e(),E(),e),W={class:"container py-5"},X={class:"row"},Y={class:"col-md-3 d-none d-md-block mb-5"},Z={class:"col-md-9 col-12"},tt={class:"row"},et={class:"col-lg-4 mb-3 mb-lg-0 text-center"},st={class:"px-5 mx-5 px-lg-0 mx-lg-0"},ot=["src","alt"],it={class:"col-lg-8 d-flex flex-column justify-content-between"},nt={class:"mb-3 mb-lg-0"},lt={class:"font-sans fw-bold mb-3 mb-lg-5 fs-lg-2 fs-4"},rt={class:"mb-3 row"},ct=m(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"作者：",-1)),dt={class:"col-6 ms-5"},at={class:"mb-3 row"},ut=m(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"出版社：",-1)),pt={class:"col-6 ms-5"},gt={class:"mb-3 row"},mt=m(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"出版日期：",-1)),_t={class:"col-6 ms-5"},ht={class:"mb-2 align-items-center row"},ft=m(()=>t("div",{class:"col-lg-1 col-2 text-nowrap"},"價格：",-1)),bt={class:"col-6 ms-5 d-flex align-items-center"},vt={class:"fs-3 fw-bold me-2"},wt={class:"fs-7 text-gray text-decoration-line-through"},Pt={class:"row gx-2 d-lg-flex d-none"},St={class:"col-2 col-lg-2"},yt={class:"fa-lg text-white"},Ct={class:"col-lg-5 col-5"},kt={class:"col-lg-5 col-5"},$t={class:"z-1000 row gx-2 position-fixed bottom-0 w-100 start-0 d-flex d-lg-none border-top pb-2 pt-3 ps-1 bg-white shadow"},Bt={class:"col-2 col-lg-2 order-1"},It={class:"fa-lg text-white"},Rt={class:"col-lg-5 col-5"},Tt={class:"col-lg-5 col-5"},xt={class:"col-12 py-5"},Lt=m(()=>t("h3",{class:"font-sans fs-4 ms-2 mb-3 fw-bold"},"更多相關商品",-1)),Vt={class:"position-relative"};function zt(e,s,d,b,o,p){const _=r("Breadcrumb"),B=r("ProductCategory"),P=r("font-awesome-icon"),S=r("RouterLink"),I=r("ProductTab"),R=r("ProductCard"),T=r("swiper-slide"),x=r("swiper-container");return c(),u("div",W,[i(_,{class:"mb-4",breadConfig:{path:"products",subNav:"書籍類別",title:"書籍介紹"}}),t("div",X,[t("div",Y,[i(B)]),t("div",Z,[t("div",tt,[t("div",et,[t("div",st,[t("img",{src:e.singleProduct.imageUrl,alt:e.singleProduct,class:"img-fluid"},null,8,ot)])]),t("div",it,[t("div",nt,[t("h3",lt,a(e.singleProduct.title),1),t("ul",null,[t("li",rt,[ct,t("div",dt,a(e.singleProduct.author),1)]),t("li",at,[ut,t("div",pt,a(e.singleProduct.publish),1)]),t("li",gt,[mt,t("div",_t,a(e.singleProduct.time),1)]),t("li",ht,[ft,t("div",bt,[t("p",vt,"$"+a(e.singleProduct.price),1),t("p",wt," $"+a(e.singleProduct.origin_price),1)])])])]),t("div",Pt,[t("div",St,[t("a",{href:"#",class:g(["btn btn-gray w-100 py-3 rounded-2 border-0",{"bg-danger ":o.isSolid}]),onClick:s[0]||(s[0]=n(l=>p.handleCollectBtn(e.singleProduct),["prevent"]))},[t("span",yt,[i(P,{icon:p.icon},null,8,["icon"])])],2)]),t("div",Ct,[t("a",{href:"#",class:"btn btn-gray text-white w-100 py-3 rounded-0 mb-lg-0 mb-0 rounded-2",onClick:s[1]||(s[1]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},"加入購物車")]),t("div",kt,[i(S,{to:{name:"cart"},class:"btn btn-primary text-white w-100 py-3 rounded-0 mb-lg-0 mb-2 rounded-2",onClick:s[2]||(s[2]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},{default:h(()=>[y("立即購買")]),_:1})])]),t("div",$t,[t("div",Bt,[t("a",{href:"#",class:g(["btn btn-gray w-100 py-2 rounded-2 border-0",{"bg-danger ":o.isSolid}]),onClick:s[3]||(s[3]=n(l=>p.handleCollectBtn(e.singleProduct),["prevent"]))},[t("span",It,[i(P,{icon:p.icon},null,8,["icon"])])],2)]),t("div",Rt,[t("a",{href:"#",class:"btn btn-gray text-white w-100 py-2 rounded-0 mb-lg-0 mb-0 rounded-2",onClick:s[4]||(s[4]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},"加入購物車")]),t("div",Tt,[i(S,{to:{name:"cart"},class:"btn btn-primary text-white w-100 py-2 rounded-0 mb-lg-0 mb-2 rounded-2",onClick:s[5]||(s[5]=n(l=>e.addCart(e.singleProduct.id),["prevent"]))},{default:h(()=>[y("立即購買")]),_:1})])])]),t("div",xt,[i(I)]),t("div",null,[Lt,t("div",Vt,[i(x,{init:"false",ref:"relatedSwiper",class:"container px-5"},{default:h(()=>[(c(!0),u($,null,j(o.relatedResult,l=>(c(),N(T,{key:l.id,class:"h-auto d-flex justify-content-center my-3 px-2"},{default:h(()=>[i(R,{item:l},null,8,["item"])]),_:2},1024))),128))]),_:1},512)])])])])])])}const Ut=k(Q,[["render",zt],["__scopeId","data-v-a5dbb8e4"]]);export{Ut as default};

import{d as le,g as ae,u as O,x as F,_ as k,r as _,o as f,c as b,a as e,f as l,b as ie,v as re,q as x,w as u,F as V,e as ce,t as R,h as g,i as w,p as M,j as B,k as de}from"./index-0c9b4ac0.js";import{r as he,a as pe,b as _e,c as me}from"./selector-engine-72ecaeb1.js";import{u as T}from"./product-5360bd48.js";import{c as H}from"./cart-94b7ea46.js";import{L as ge}from"./LoadingComponent-9618e8ee.js";import"./toastMixin-9fb14e31.js";import"./apis-467ff69f.js";import"./alertMixin-93dc2ee1.js";import"./article-2e426832.js";import"./timeFormat-77515bb4.js";import"./order-d09f6700.js";var q={exports:{}};/*!
  * Bootstrap collapse.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,n){(function(m,r){t.exports=r(he(),pe(),_e(),me())})(le,function(m,r,o,d){const c="collapse",h=".bs.collapse",y=".data-api",N=`show${h}`,W=`shown${h}`,Y=`hide${h}`,j=`hidden${h}`,Q=`click${h}${y}`,I="show",$="collapse",L="collapsing",J="collapsed",Z=`:scope .${$} .${$}`,X="collapse-horizontal",ee="width",te="height",se=".collapse.show, .collapse.collapsing",D='[data-bs-toggle="collapse"]',oe={parent:null,toggle:!0},ne={parent:"(null|element)",toggle:"boolean"};class S extends m{constructor(s,i){super(s,i),this._isTransitioning=!1,this._triggerArray=[];const a=o.find(D);for(const C of a){const A=o.getSelectorFromElement(C),P=o.find(A).filter(v=>v===this._element);A!==null&&P.length&&this._triggerArray.push(C)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return oe}static get DefaultType(){return ne}static get NAME(){return c}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let s=[];if(this._config.parent&&(s=this._getFirstLevelChildren(se).filter(v=>v!==this._element).map(v=>S.getOrCreateInstance(v,{toggle:!1}))),s.length&&s[0]._isTransitioning||r.trigger(this._element,N).defaultPrevented)return;for(const v of s)v.hide();const a=this._getDimension();this._element.classList.remove($),this._element.classList.add(L),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const C=()=>{this._isTransitioning=!1,this._element.classList.remove(L),this._element.classList.add($,I),this._element.style[a]="",r.trigger(this._element,W)},P=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(C,this._element,!0),this._element.style[a]=`${this._element[P]}px`}hide(){if(this._isTransitioning||!this._isShown()||r.trigger(this._element,Y).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,d.reflow(this._element),this._element.classList.add(L),this._element.classList.remove($,I);for(const C of this._triggerArray){const A=o.getElementFromSelector(C);A&&!this._isShown(A)&&this._addAriaAndCollapsedClass([C],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(L),this._element.classList.add($),r.trigger(this._element,j)};this._element.style[i]="",this._queueCallback(a,this._element,!0)}_isShown(s=this._element){return s.classList.contains(I)}_configAfterMerge(s){return s.toggle=!!s.toggle,s.parent=d.getElement(s.parent),s}_getDimension(){return this._element.classList.contains(X)?ee:te}_initializeChildren(){if(!this._config.parent)return;const s=this._getFirstLevelChildren(D);for(const i of s){const a=o.getElementFromSelector(i);a&&this._addAriaAndCollapsedClass([i],this._isShown(a))}}_getFirstLevelChildren(s){const i=o.find(Z,this._config.parent);return o.find(s,this._config.parent).filter(a=>!i.includes(a))}_addAriaAndCollapsedClass(s,i){if(s.length)for(const a of s)a.classList.toggle(J,!i),a.setAttribute("aria-expanded",i)}static jQueryInterface(s){const i={};return typeof s=="string"&&/show|hide/.test(s)&&(i.toggle=!1),this.each(function(){const a=S.getOrCreateInstance(this,i);if(typeof s=="string"){if(typeof a[s]>"u")throw new TypeError(`No method named "${s}"`);a[s]()}})}}return r.on(document,Q,D,function(E){(E.target.tagName==="A"||E.delegateTarget&&E.delegateTarget.tagName==="A")&&E.preventDefault();for(const s of o.getMultipleElementsFromSelector(this))S.getOrCreateInstance(s,{toggle:!1}).toggle()}),d.defineJQueryPlugin(S),S})})(q);var ue=q.exports;const z=ae(ue),fe={data(){return{collapse:{},searchString:"",hotString:["筆記法","貝果","塔羅牌"]}},computed:{...O(T,["searchResult","searchStr","selectedCategory","productAll"])},methods:{...F(T,["getProducts","getProductAll","searchProduct"]),handleHotSearch(t){this.searchProduct(t),this.$emit("close-collapse"),this.$router.push("/products"),this.searchString=""},handleSearch(){this.searchProduct(this.searchString),this.$emit("close-collapse"),this.$router.push("/products")}},mounted(){this.getProducts(),this.getProductAll()}},Ce={class:"py-3 px-0 border-0"},ve={class:"position-relative mb-3"},be={class:"text-gray d-flex align-items-center"},$e=e("span",null,"熱門關鍵字：",-1),Se=["onClick"];function Ae(t,n,m,r,o,d){const c=_("font-awesome-icon");return f(),b("div",Ce,[e("div",ve,[l(c,{icon:["fas","magnifying-glass"],class:"text-dark position-absolute top-50 start-0 translate-middle-y text-gray ms-3 top-0"}),ie(e("input",{type:"text",class:"form-control shadow-none ps-5 py-3","onUpdate:modelValue":n[0]||(n[0]=p=>o.searchString=p),placeholder:"請輸入書名"},null,512),[[re,o.searchString,void 0,{trim:!0}]]),e("button",{class:x(["btn btn-outline-secondary position-absolute end-0 top-50 translate-middle-y me-3",{disabled:!o.searchString}]),onClick:n[1]||(n[1]=u((...p)=>d.handleSearch&&d.handleSearch(...p),["prevent"]))}," 搜尋 ",2)]),e("div",be,[$e,(f(!0),b(V,null,ce(o.hotString,p=>(f(),b("button",{class:"btn px-2 py-0 border-0",type:"button",key:p,onClick:u(h=>d.handleHotSearch(p),["prevent"])}," #"+R(p),9,Se))),128))])])}const G=k(fe,[["render",Ae]]),ye={data(){return{collapse:{}}},components:{SearchInput:G},methods:{toggleCollapse(){this.collapse.toggle()},hideCollapse(){this.collapse.hide()},showCollapse(){this.collapse.show()}},watch:{$route(t,n){this.hideCollapse()}},mounted(){this.collapse=new z(this.$refs.collapse),setTimeout(()=>{this.$refs.collapse.classList.remove("show")},500)}},we={class:"border-0",ref:"collapse"};function ke(t,n,m,r,o,d){const c=_("SearchInput");return f(),b("div",we,[l(c,{onCloseCollapse:d.hideCollapse},null,8,["onCloseCollapse"])],512)}const Le=k(ye,[["render",ke]]),Ee="/RECA-Bookstore/assets/logo-7314eb8c.svg";const xe={data(){return{headerCollapse:{}}},components:{SearchCollapse:Le,SearchInput:G},computed:{...O(H,["cartLength"]),...O(T,["collectList","collectStorage"])},methods:{...F(T,["getStorage"]),toggleCollapse(){this.$refs.SearchCollapse.toggleCollapse()}},created(){this.getStorage()},watch:{$route(t,n){this.headerCollapse.hide()}},mounted(){this.headerCollapse=new z(this.$refs.headerCollapse),setTimeout(()=>{this.$refs.headerCollapse.classList.remove("show")},500)}},K=t=>(M("data-v-c2b5b4c5"),t=t(),B(),t),Te={class:"position-fixed top-0 w-100"},Ne={class:"navbar navbar-expand-lg bg-white position-relative border-bottom"},Ie={class:"container"},De=K(()=>e("img",{src:Ee,alt:"",class:"px-2 img-fluid"},null,-1)),Pe=K(()=>e("button",{class:"navbar-toggler order-1",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1)),Oe={class:"collapse navbar-collapse order-2 order-lg-0",id:"navbarNav",ref:"headerCollapse"},Re={class:"navbar-nav py-3 py-lg-1"},Fe={class:"nav-item"},Ve={class:"nav-item"},Me={class:"nav-item d-lg-none d-block"},Be={class:"d-lg-none"},He={class:"d-flex align-items-center gap-3 ms-auto mx pe-3"},qe={class:"d-lg-block d-none"},ze={class:"d-lg-block d-none"},Ge={class:"button-count ms-1 text-white bg-primary position-absolute start-100 top-0 translate-middle-x"},Ke={class:"me-2"},Ue={class:"button-count ms-1 text-white bg-primary position-absolute start-100 top-0 translate-middle-x"},We={class:"bg-light position-absolute top-100 w-100 start-0 d-lg-block d-none"},Ye={class:"container"};function je(t,n,m,r,o,d){const c=_("RouterLink"),p=_("SearchInput"),h=_("font-awesome-icon"),y=_("SearchCollapse");return f(),b("header",Te,[e("nav",Ne,[e("div",Ie,[l(c,{to:{name:"index"},class:"me-4 logo"},{default:g(()=>[De]),_:1}),Pe,e("div",Oe,[e("ul",Re,[e("li",Fe,[l(c,{to:{name:"products"},class:"nav-link px-lg-3"},{default:g(()=>[w("書籍類別")]),_:1})]),e("li",Ve,[l(c,{to:{name:"articles"},class:x(["nav-link px-lg-3",{active:this.$route.name==="articles"||this.$route.name==="article"}])},{default:g(()=>[w("書評推薦")]),_:1},8,["class"])]),e("li",Me,[l(c,{to:{name:"orders"},class:x(["nav-link",{active:this.$route.name==="orders"||this.$route.name==="order"}])},{default:g(()=>[w("查看訂單")]),_:1},8,["class"])]),e("li",Be,[l(p)])])],512),e("ul",He,[e("li",qe,[e("button",{type:"button",class:"px-2 btn rounded-pill border-0",onClick:n[0]||(n[0]=(...N)=>d.toggleCollapse&&d.toggleCollapse(...N))},[l(h,{icon:["fas","magnifying-glass"],class:"me-2"}),w("搜尋 ")])]),e("li",ze,[l(c,{to:{name:"orders"},class:x(["px-2 btn rounded-pill border-0",{"fw-bold":this.$route.name==="orders"||this.$route.name==="order"}])},{default:g(()=>[l(h,{icon:["far","file-lines"],class:"me-1 fs-5"}),w(" 訂單")]),_:1},8,["class"])]),e("li",null,[l(c,{to:{name:"collect"},class:"ps-1 position-relative pt-1"},{default:g(()=>[l(h,{icon:["fas","heart"],class:"fa-lg"}),e("span",Ge,R(t.collectStorage.length),1)]),_:1})]),e("li",Ke,[l(c,{to:{name:"cart"},class:"ps-1 position-relative pt-1"},{default:g(()=>[l(h,{icon:["fas","cart-shopping"],class:"fa-lg"}),e("span",Ue,R(t.cartLength),1)]),_:1})])]),e("div",We,[e("div",Ye,[l(y,{ref:"SearchCollapse"},null,512)])])])])])}const Qe=k(xe,[["render",je],["__scopeId","data-v-c2b5b4c5"]]),Je="/RECA-Bookstore/assets/logo-white-50168853.svg";const Ze={},U=t=>(M("data-v-d5a5fd95"),t=t(),B(),t),Xe={class:"py-lg-5 pt-4 pb-4 bg-dark text-white fs-7"},et={class:"container"},tt={class:"row align-items-center border-bottom pb-5"},st=U(()=>e("img",{src:Je,alt:"LOGO",class:"px-2 img-fluid"},null,-1)),ot={class:"col-6 col-lg-9"},nt={class:"d-flex mb-0 justify-content-end"},lt={class:"pe-2"},at={class:"px-2"},it={class:"ps-2"},rt={class:"row pt-3"},ct={class:"col-12 col-lg-6 text-lg-start"},dt={class:"d-flex mb-4 mb-lg-0"},ht=U(()=>e("div",{class:"col-12 col-lg-6 text-lg-end text-gray"},[e("p",null,"本網站僅供個人作品使用，不提供商業用途")],-1));function pt(t,n){const m=_("RouterLink"),r=_("font-awesome-icon");return f(),b("footer",Xe,[e("div",et,[e("div",tt,[l(m,{to:{name:"index"},class:"col-6 col-lg-3"},{default:g(()=>[st]),_:1}),e("div",ot,[e("ul",nt,[e("li",lt,[e("a",{href:"#",class:"social-link",onClick:n[0]||(n[0]=u((...o)=>t.handleClick&&t.handleClick(...o),["prevent"]))},[l(r,{icon:["fab","instagram"],class:"fs-4"})])]),e("li",at,[e("a",{href:"#",class:"social-link",onClick:n[1]||(n[1]=u((...o)=>t.handleClick&&t.handleClick(...o),["prevent"]))},[l(r,{icon:["fab","facebook-f"],class:"fs-5"})])]),e("li",it,[e("a",{href:"#",class:"social-link",onClick:n[2]||(n[2]=u((...o)=>t.handleClick&&t.handleClick(...o),["prevent"]))},[l(r,{icon:["fab","x-twitter"],class:"fs-5"})])])])])]),e("div",rt,[e("div",ct,[e("ul",dt,[e("li",null,[e("a",{href:"#",class:"pe-3 py-0",onClick:n[3]||(n[3]=u((...o)=>t.handleClick&&t.handleClick(...o),["prevent"]))},"常見問題")]),e("li",null,[e("a",{href:"#",class:"px-3 py-0",onClick:n[4]||(n[4]=u((...o)=>t.handleClick&&t.handleClick(...o),["prevent"]))},"聯絡我們")]),e("li",null,[e("a",{href:"#",class:"px-3 py-0",onClick:n[5]||(n[5]=u((...o)=>t.handleClick&&t.handleClick(...o),["prevent"]))},"隱私權政策")])])]),ht])])])}const _t=k(Ze,[["render",pt],["__scopeId","data-v-d5a5fd95"]]);const mt={components:{NavbarComponent:Qe,FooterComponent:_t,LoadingComponent:ge},methods:{...F(H,["getCart"])},created(){this.getCart()}},gt={class:"main-content"};function ut(t,n,m,r,o,d){const c=_("LoadingComponent"),p=_("NavbarComponent"),h=_("RouterView"),y=_("FooterComponent");return f(),b(V,null,[l(c),e("div",gt,[l(p),(f(),de(h,{key:t.$route.fullPath,class:"mt-5"}))]),l(y)],64)}const Et=k(mt,[["render",ut],["__scopeId","data-v-735dd76d"]]);export{Et as default};

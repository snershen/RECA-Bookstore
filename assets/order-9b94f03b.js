import{z as i}from"./index-640e9deb.js";import{w as o,x as a,y as d}from"./apis-a5ad6c64.js";import{t as e}from"./timeFormat-77515bb4.js";const c=i("orderStore",{state:()=>({orderList:[],orderResult:[],order:{},searchStr:"",isLoading:!1,isEmptyResult:!1}),actions:{getOrders(){this.isEmptyResult=!1,this.isLoading=!0,o().then(t=>{this.isLoading=!1,this.orderList=t.data.orders,e(this.orderList,"create_at"),this.orderResult=[],this.orderList.forEach(r=>{r.total=Math.round(r.total)})}).catch(t=>{console.error(t)})},async getSingleOrder(t){this.isLoading=!0;try{const r=await a(t);this.order=r.data.order,e(this.order,"create_at"),this.order.total=Math.round(this.order.total),this.order.is_paid&&e(this.order,"paid_date")}catch(r){console.error(r)}finally{this.isLoading=!1}},payMoney(t){d(t).then(r=>{this.getSingleOrder(t)}).catch(r=>{console.error(r)})},filterOrder(t){if(this.searchStr=t.trim(),this.searchStr===""){this.orderResult=this.orderList;return}const r=this.orderList.filter(s=>s.id===this.searchStr);this.orderResult=r,this.orderResult.length===0&&(this.isEmptyResult=!0)}}});export{c as o};
